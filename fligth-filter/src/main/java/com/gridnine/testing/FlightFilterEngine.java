package com.gridnine.testing;

import java.util.List;
/**
 * Движок для применения правил фильтрации к набору перелётов.
 * 
 * <p>Предоставляет единый интерфейс для обработки списков перелётов с использованием
 * стратегий фильтрации, реализованных через интерфейс {@link FlightFilter}.
 * Каждое применение фильтра независимо и не модифицирует исходный список.</p>
 * 
 * <p>Особенности архитектуры:
 * <ul>
 *   <li>Поддержка динамического выбора правил фильтрации</li>
 *   <li>Легкое расширение новыми фильтрами без изменения кода движка</li>
 *   <li>Соблюдение принципа открытости/закрытости (OCP)</li>
 *   <li>Иммутабельность: возвращает новый список, исходные данные не изменяются</li>
 * </ul>

 * 
 * @see FlightFilter
 * @see Flight
 */ 
public class FlightFilterEngine {
    /**
     * Применяет заданный фильтр ко всем перелётам в списке.
     * 
     * <p>Возвращает новый список, содержащий только те перелёты, которые прошли
     * проверку фильтра ({@code filter.test(flight) == true}). Исходный список
     * остаётся неизменным.</p>
     * 
     * @param flights список перелётов для фильтрации
     * @param filter правило фильтрации, реализующее интерфейс {@link FlightFilter}
     * @return новый список, содержащий только валидные перелёты
     */
    public List<Flight> applyFilter(List<Flight> flights, FlightFilter filter){
        return flights.stream().filter(flight -> filter.test(flight)).toList();
    }
}
